<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width initial-scale=1.0">
    <title>검색</title>
    <!-- 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&family=Noto+Sans&family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <!--
    한글 폰트
    font-family: 'Nanum Gothic Coding', monospace;
    font-family: 'Noto Sans KR', sans-serif;
    영문 폰트
    font-family: 'Noto Sans', sans-serif;

    보통은(한/영 둘다) Noto Sans로 하고
    정보표시는 Nanum Gothic Coding.
    -->
    <!-- fontawesome CDN -->
    <script src="https://kit.fontawesome.com/88eb152a32.js" crossorigin="anonymous"></script>
    <!-- css -->
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/search/search-style.css" />
    <!-- 스크립트 -->
    <script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
    <script src="/js/reset.js"></script>
    <script src="/js/search/search.js"></script>
</head>
<body>
<header th:replace="header.html"></header>
<div class="content-container search">
    <div class="filter">
        <div id="category">
            <ul>
                <li>CPU</li>
                <li>메인보드</li>
                <li>그래픽카드</li>
                <li>RAM</li>
                <li>HDD</li>
                <li>SSD</li>
                <li>케이스</li>
                <li>파워</li>
                <li>키보드</li>
                <li>마우스</li>
                <li>모니터</li>
            </ul>
        </div>
        <div id="criteria">
            <ul>
                <li>제조회사</li>
                <li>조건2</li>
                <li>조건3</li>
                <li>조건4</li>
            </ul>
        </div>
    </div>
    <div class="detail-search">
        결과 내 재검색
    </div>
    <div class="result">
        <div class="controller">
            결과 컨트롤러(정렬, 장바구니)
            <button class="test">변경</button>
        </div>
        <div class="product-list">
            <div th:each="product : ${product}" th:classappend="|${product.productCategory} ${product.productNo} liftup|" class="product">
                <div class="image-div">
                    <img th:src="${product.productThumbnail}" class="product-image" />
                    <input th:classappend="|${product.productCategory} ${product.productNo}|" type="checkbox" />
                </div>
                <div class="product-info">
                    <div th:text="${product.productName}" class="product-name text bold"></div>
                    <div th:text="${product.productDescription}" class="product-detail text normal"></div>
                </div>
                <div class="product-purchase">
                    <div th:classappend="|char normal bold|" th:text="|${#numbers.formatInteger(product.productPrice, 3, 'COMMA')}|" class="product-price"></div>
                    <div th:if="${product.reviewGradeAvg != null}"
                         class="review">
                        <div class="grade">
                            <div th:if="${product.reviewGradeAvg != null}"
                                 th:style="|width: ${product.reviewGradeAvg*20}px;|"
                                 class="stars"></div>
                        </div>
                        <div class="score"
                             th:if="${product.reviewGradeAvg != null}"
                             th:text="${#numbers.formatDecimal(product.reviewGradeAvg,1,1)}"></div>
                        <div th:text="|(${product.reviewCount})|" class="count"></div>
                    </div>
                    <div th:unless="${product.reviewGradeAvg != null}"
                         class="review none">
                        <span>평가 없음</span>
                    </div>
                    <div class="interaction">
                        <button class="btn addcart">장바구니</button>
                        <button class="btn purchase">바로구매</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="paging">
        <form action="/search" method="GET">
            <input id="pagingKeyword" type="hidden" name="keyword" />
            <button th:disabled="${paging.prev == false}"
                    th:value="${paging.startPage-10}" class="btn"><i class="fas fa-chevron-left"></i></button>
            <!--<button th:each="num : ${#numbers.sequence(paging.startPage, paging.startPage+9)}"
                    th:disabled="${num > paging.endPage}"
                    th:text="${num}"
                    th:value="${num}"
                    class="btn" name="page" ></button>-->
            <button th:each="num : ${#numbers.sequence(paging.startPage, paging.startPage+9)}"
                    th:disabled="${num > paging.endPage}"
                    th:text="${num}"
                    th:value="${num}"
                    th:style="${num == paging.page} ? |color: var(--danger);|"
                    class="btn" name="page" ></button>
            <button th:disabled="${paging.next == false}"
                    th:value="${paging.startPage+10}" class="btn"><i class="fas fa-chevron-right"></i></button>
        </form>
    </div>
</div>
<footer th:replace="footer.html"></footer>
</body>
</html>